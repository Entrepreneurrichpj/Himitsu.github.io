<!DOCTYPE html>
<html>
<head>
    <title>Message System</title>
</head>
<body>
    <h1>Message System</h1>

    <!-- Input fields for sending a message -->
    <label for="toChainId">To Chain ID:</label>
    <input type="number" id="toChainId" placeholder="Enter Chain ID"><br>

    <label for="toAddress">To Address:</label>
    <input type="text" id="toAddress" placeholder="Enter Address"><br>

    <label for="message">Message:</label>
    <textarea id="message" rows="4" cols="50" placeholder="Enter your message"></textarea><br>

    <label for="feeAmount">Fee Amount:</label>
    <input type="number" id="feeAmount" placeholder="Enter Fee Amount"><br>

    <button onclick="sendMessage()">Send Message</button>

    <!-- Display received messages -->
    <h2>Received Messages:</h2>
    <div id="receivedMessages"></div>

    <script>
        async function sendMessage() {
            const toChainId = document.getElementById("toChainId").value;
            const toAddress = document.getElementById("toAddress").value;
            const message = document.getElementById("message").value;
            const feeAmount = document.getElementById("feeAmount").value;

            // You'll need to use a JavaScript library like Web3.js or ethers.js
            // to interact with your smart contract and call the sendEncryptedMessage function.
            // Below is a simplified example using Web3.js:

            // const contractAddress = "YOUR_SMART_CONTRACT_ADDRESS";
            // const abi = [...]; // ABI of your smart contract
            // const web3 = new Web3("YOUR_ETHEREUM_NODE_URL");
            // const contract = new web3.eth.Contract(abi, contractAddress);

            // Use web3.js to send the message to the smart contract
            // const result = await contract.methods.sendEncryptedMessage(
            //     toChainId,
            //     toAddress,
            //     message,
            //     feeAmount
            // ).send({ from: "YOUR_SENDER_ADDRESS" });

            // Handle the result as needed
            // ...

            // For now, let's assume the message was sent successfully.
            const sentMessage = `To Chain ID: ${toChainId}, To Address: ${toAddress}, Message: ${message}, Fee Amount: ${feeAmount}`;
            
            // Display the sent message
            const sentMessageElement = document.createElement("p");
            sentMessageElement.textContent = sentMessage;
            document.getElementById("receivedMessages").appendChild(sentMessageElement);

            // Clear input fields
            document.getElementById("toChainId").value = "";
            document.getElementById("toAddress").value = "";
            document.getElementById("message").value = "";
            document.getElementById("feeAmount").value = "";
        }
    </script>
</body>
</html>
